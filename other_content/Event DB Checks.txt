eventSaleOrders = env['sale.order'].search([('event_so', '!=', False), ('date_order', '>=', '2024-08-01')])

for event in eventSaleOrders:
	for line in event.order_line:
		if (line.product_id.id == 7702 or line.product_id.id == 7303) and not line.event_id:
			print('Name: ' + line.name + ' und Line-ID: ' + str(line.id) + ' und SO-ID: ' + str(event.id))

prob. AuftrÃ¤ge:
Name: Reservierung Eis-Zeitreise (ab 4 Jahren*) und Line-ID: 1046064 und SO-ID: 315392
Name: Reservierung Eis-Zeitreise (ab 4 Jahren*) und Line-ID: 1046037 und SO-ID: 315359
Name: Reservierung Eis-Zeitreise (ab 4 Jahren*) und Line-ID: 1045512 und SO-ID: 315135

===


DB check Eiszeitreise
Select sale_order.id as Verkaufsauftrag, sale_order_line.id as Verkaufsposition, event_registration.id as Veranstaltung_Eiszeitreise from sale_order join sale_order_line on sale_order.id = sale_order_line.order_id left join event_registration on sale_order_line.id = event_registration.sale_order_line_id  where sale_order.create_date > '2024-08-04' and sale_order_line.product_id = 7702 and event_registration.id is null;
---
Select sale_order.id as Verkaufsauftrag, sale_order_line.id as Verkaufsposition, event_registration.id as Veranstaltung_Eiszeitreise from sale_order join sale_order_line on sale_order.id = sale_order_line.order_id left join event_registration on sale_order_line.id = event_registration.sale_order_line_id  where sale_order.create_date > CURRENT_DATE and sale_order_line.product_id = 7702 and event_registration.id is null;

DB check Erlebniswelt
Select sale_order.id as Verkaufsauftrag, sale_order_line.id as Verkaufsposition, event_registration.id as Veranstaltung_Erlebnispark from sale_order join sale_order_line on sale_order.id = sale_order_line.order_id left join event_registration on sale_order_line.id = event_registration.sale_order_line_id  where sale_order.create_date > '2024-08-04' and sale_order_line.product_id = 7303 and event_registration.id is null;
---
Select sale_order.id as Verkaufsauftrag, sale_order_line.id as Verkaufsposition, event_registration.id as Veranstaltung_Erlebnispark from sale_order join sale_order_line on sale_order.id = sale_order_line.order_id left join event_registration on sale_order_line.id = event_registration.sale_order_line_id  where sale_order.create_date > CURRENT_DATE and sale_order_line.product_id = 7303 and event_registration.id is null;

Kombo
Select sale_order.id as Verkaufsauftrag, sale_order_line.id as Verkaufsposition, event_registration.id as Veranstaltungen from sale_order join sale_order_line on sale_order.id = sale_order_line.order_id left join event_registration on sale_order_line.id = event_registration.sale_order_line_id  where sale_order.create_date > CURRENT_DATE and sale_order_line.product_id in (7702, 7303, 7547, 7335, 7334, 7302) and event_registration.id is null and sale_order.state not in ('cancel');
